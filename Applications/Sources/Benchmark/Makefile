PROGRAM_NAME = Benchmark
OBJECTS = $(OBJECTS_PATH)/$(PROGRAM_NAME)/Benchmark.o
CCFLAGS += -O2

all: $(OBJECTS)
	$(GLOBAL_TOOL_LINKER) $(OBJECTS) $(LDFLAGS) -o $(BINARIES_PATH)/$(PROGRAM_NAME).bin
	$(TOOL_ADD_EXECUTABLE_HEADER) $(BINARIES_PATH)/$(PROGRAM_NAME).bin $(BINARIES_PATH)/$(PROGRAM_NAME).lemon

clean:
	rm -rf $(OBJECTS_PATH)/$(PROGRAM_NAME) $(BINARIES_PATH)/$(PROGRAM_NAME).*

download:
	@$(TOOL_SERIAL_PORT_SERVER) $(SERIAL_PORT_SERVER_FLAGS) $(BINARIES_PATH)/$(PROGRAM_NAME).lemon benchmark

$(OBJECTS_PATH)/$(PROGRAM_NAME)/Benchmark.o: Benchmark.c
	$(GLOBAL_TOOL_COMPILER) $(CCFLAGS) -c Benchmark.c -o $(OBJECTS_PATH)/$(PROGRAM_NAME)/Benchmark.o